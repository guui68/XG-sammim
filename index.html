
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>XG Downloader</title>
  <style>
    body { background: #121212; color: white; font-family: sans-serif; text-align: center; padding-top: 40px; }
    input, button { margin: 10px; padding: 10px; width: 80%; max-width: 300px; font-size: 16px; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <h1>XG Sammim TikTok Downloader</h1>
  <div id="notice" class="hidden"></div>
  <div id="maintenance" class="hidden"><h2>üöß App Under Maintenance</h2></div>
  <div id="loginBox" class="hidden">
    <input type="password" id="pass" placeholder="Enter App Password">
    <button onclick="checkPassword()">Login</button>
  </div>
  <div id="mainApp" class="hidden">
    <input type="text" placeholder="Paste TikTok link here">
    <button>Download</button>
  </div>

<script>
const api = "https://xg-remote-settings.vercel.app/settings.json";
let config = {};

async function loadConfig() {
  try {
    const res = await fetch(api);
    config = await res.json();

    if (config.app_notice) {
      document.getElementById("notice").textContent = "üì¢ " + config.app_notice;
      document.getElementById("notice").classList.remove("hidden");
    }

    if (config.maintenance_mode) {
      document.getElementById("maintenance").classList.remove("hidden");
      return;
    }

    if (config.password_enabled) {
      document.getElementById("loginBox").classList.remove("hidden");
    } else {
      document.getElementById("mainApp").classList.remove("hidden");
    }

  } catch (e) {
    alert("‚ùå Failed to load settings.");
  }
}

function checkPassword() {
  const input = document.getElementById("pass").value;
  if (input === config.app_password) {
    document.getElementById("loginBox").classList.add("hidden");
    document.getElementById("mainApp").classList.remove("hidden");
  } else {
    alert("‚ùå Wrong Password!");
  }
}

loadConfig();
</script>
</body>
</html>
